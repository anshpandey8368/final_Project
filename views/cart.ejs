<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cart</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://kit.fontawesome.com/6035602c6e.js" crossorigin="anonymous"></script>

</head>
<body class="m-0 p-0">
    <div class="wrapper h-[auto] w-[100vw] overflow-hidden overflow-y-hidden">
        <nav class="flex justify-between px-[5%] py-[1%]">
            <a href="/" class="text-2xl font-semibold mt-7">SCATCH</a>
            <div class="options w-[1200px] flex justify-between mt-5">
                <div class=" w-[500px] flex justify-between items-center ml-[-60px]">
                    <a href="/product/men" class="ml-[10px] font-medium">MEN</a>
                    <a href="/product/women" class="ml-[10px] font-medium">WOMEN</a>
                    <a href="/product/kids" class=" font-medium">KIDS</a>
                    <a href="/product/home-living" class=" font-medium">HOME & LIVING</a>
                    <a href="/product/beauty" class=" font-medium">BEAUTY</a>
                </div>

                <div class="w-[100px] ml-5 flex flex-col justify-between items-center">
                   <div>
                        <a href="/user/logout" class="ml-[10px] text-black ml-2"><i class="fa-regular fa-user"></i></a>
                        <a href="/user/cart" class="ml-[35px] font-semibold text-2xl"><i class="fa-solid fa-bag-shopping"></i></a>
                   </div>
                   <div class="flex gap-7 text-[12px] font-bold">
                        <a href="" >Profile</a>
                        <div>
                            <a href="">Bag</a>
                            <div class="w-[15px] h-[15px] flex justify-center items-center text-white text-[10px] font-semibold bg-[#ff3f63] mt-[-50px] ml-3 rounded-[50px]"><%= cartItems.length %></div>
                        </div>
                   </div>
                </div>
            </div>
        </nav>
    

        <div class="flex">
            <div class="w-full mt-[20px] flex justify-center text-[12px] text-[#686B79]">
            <p class="font-semibold text-[#03A685]">BAG</p>
            <p class="mx-[4px]"> --------------</p>
            <P class="font-semibold">ADDRESS</P> 
            <p class="mx-[4px]"> --------------</p>
            <p class="font-semibold">PAYMENT</p>
        </div>

        <div class="text-[#03A685] ml-[-200px] mt-[20px] relative">
            <i class="fa-solid fa-shield text-[26px] text-[#03A685] absolute"></i>
            <div class="absolute z-[100px]">
                <i class="fa-solid fa-check text-[#fff] text-[12px] ml-[8px]"></i>
            </div>
        </div>
        </div>

        
        <div class="flex gap-[150px] justify-center mb-10">
        <div class="flex flex-col items-center">
            <% cartItems.forEach((item) => { %>
            <div class="w-[550px] h-[148px] flex border-red rounded-sm mt-10">
                <img src="data:image/jpeg;base64,<%= item.image.toString('base64') %>" alt="" class="w-[111px] h-[148px]" style="background-color: <%= item.panelColor %>">
                <div class="ml-5 w-[438px]">
                    <div class="flex justify-between">
                        <h1 class="text-[14px] font-bold text-[#282C3F]"><%= item.name %></h1>
                        <a href="/user/deleteFromCart/<%= item._id %>"><i class="fa-solid fa-xmark w-[14px] h-[14px]"></i></a>
                    </div>
                    <p class="text-[14px] font-normal text-[#282C3F]"><%= item.description %></p>
                    <p class="text-[14px] font-light text-[#94969F]">Sold by: Scatch LifeStyle</p>
                    <div class="flex gap-10 my-2">
                        <select name="size" id="" class="text-[14px] font-bold text-[#282C3F]">
                            <option value="small">small</option>
                            <option value="Medium">Medium</option>
                            <option value="large">large</option>
                        </select>
                        <label for="qty" class="text-[14px] font-bold text-[#282C3F]">Qty:</label>
                        <input type="text" name="qty" class="w-[63.2px] h-[20px] ml-[-35px]">
                    </div>
                    <div class="flex gap-5">
                        <p class="text-[14px] font-bold text-[#282C3F]">₹<%= Math.round(item.price - (item.price * item.discount / 100)).toFixed(2) %></p>
                        <p class="text-[14px] font-normal text-[#535766] line-through">₹<%= item.price %></p>
                        <p class="text-[14px] font-normal text-[#F16565]"><%= item.discount %>% OFF</p>

                    </div>
                    <div class="text-[14px] font-normal text-[#535766] flex gap-1 mt-[2px]">
                        <div class="border-2 border-black rounded-[50px] w-[15px] h-[15px] flex justify-center items-center mt-[4px]">
                            <img src="https://img.favpng.com/4/21/4/return-icon-png-favpng-jmdD0NAjjYKDCnEwhdbcWSdvy.jpg" alt="" class="w-[15px] h-[10px] border-0 rounded-[50px]">
                        </div>
                        <p>return available</p>
                    </div>
                </div>
            </div>
            <div>

            </div>
            <% }) %>
        </div>

       
        <div class="w-[320px] mt-10 sticky">
            <h1 class="text-[12px] font-bold text-[#535766] mb-[12px]">COUPONS</h1>
            <div class="flex justify-between items-center mb-[20px]">
                <div class="flex gap-5 items-center ">
                    <i class="fa-solid fa-tag mt-[3px]"></i>
                    <h1 class="text-[14px] font-semibold text-[#282C3F]">Apply Coupons</h1>
                </div>
                <button class="text-[12px] text-[#ff3f63] font-bold rounded-[2px] px-[16px] py[4px] border-[1px] border-[#ff3f63]">APPLY</button>
            </div>
            <div>
                <h1 class="text-[12px] font-bold text-[#535766] mb-[12px]">SUPPORT TRANSFORMATIVE SOCIAL WORK IN INDIA</h1>
            </div>
            <div class="flex gap-5 mb-[12px]">
                <input type="checkbox" class=" h-4 w-4 mt-[3px] border-gray-400 rounded checked:bg-[#282C3F] mb-[12px]"> 
                <div class="text-[14px] font-semibold text-[#282C3F] mb-[12px]">Donate and make a difference</div>
            </div>
            <form class="space-x-4 mb-[16px]" action="/user/donate" method="post" >
                <button type="submit" name="donation" value="10" class="text-[14px] font-bold text-[#ff3f63] px-[16px] py-[8px] border-[1px] border-[#ff3f63] rounded-[25px] hover:bg-[#ff3f63] hover:text-white transition-colors duration-300">₹ 10</button>
                <button type="submit" name="donation" value="20" class="text-[14px] font-bold text-[#ff3f63] px-[16px] py-[8px] border-[1px] border-[#ff3f63] rounded-[25px] hover:bg-[#ff3f63] hover:text-white transition-colors duration-300">₹ 20</button>
                <button type="submit" name="donation" value="50" class="text-[14px] font-bold text-[#ff3f63] px-[16px] py-[8px] border-[1px] border-[#ff3f63] rounded-[25px] hover:bg-[#ff3f63] hover:text-white transition-colors duration-300">₹ 50</button>
                <button type="submit" name="donation" value="100" class="text-[14px] font-bold text-[#ff3f63] px-[16px] py-[8px] border-[1px] border-[#ff3f63] rounded-[25px] hover:bg-[#ff3f63] hover:text-white transition-colors duration-300">₹ 100</button>
            </form>
            <div class="text-[14px]  text-[#ff3f63] font-bold mb-[12px]">Know More</div>
    
            <div>
                <h1 class="text-[12px] font-bold text-[#535766] mb-[12px]">PRICE DETAILS(<span><%= cartItems.length %></span> item)</h1>
                <div class="flex justify-between mb-[12px]">
                    <p class="text-[14px] font-normal text-[#282C3F]">Total MRP</p>
                    <p class="text-[14px] font-normal text-[#282C3F]"><span class="font-bold">₹</span><%= totalMRP %></p>
                </div>
                <div class="flex justify-between mb-[12px]">
                    <p class="text-[14px] font-normal text-[#282C3F]">Discount on MRP</p>
                    <p class="text-[14px] font-normal text-[#03A685]">₹<%= totalDiscount %></p>
                </div>
                <div class="flex justify-between mb-[12px]">
                    <p class="text-[14px] font-normal text-[#282C3F]">Coupon Discount</p>
                    <p class="text-[14px] font-normal text-[#ff3f63]">Apply Coupon</p>
                </div>
                <div class="flex justify-between mb-[12px]">
                    <p class="text-[14px] font-normal text-[#282C3F]">Social work Donation</p>
                    <p class="text-[14px] font-normal text-[#282C3F]">₹<%= donation %></p>
                </div>
                <div class="flex justify-between mb-[12px]">
                    <p class="text-[14px] font-normal text-[#282C3F]">Platform Fee <span class="text-[14px] font-bold text-[#ff3f63] ml-2">Know More</span></p>
                    <p class="text-[14px] font-normal text-[#282C3F]">₹20</p>
                </div>
                <div class="flex justify-between">
                    <p class="text-[14px] font-normal text-[#282C3F]">shipping Fee <span class="text-[14px] font-bold text-[#ff3f63] ml-2">Know More</span></p>
                    <p class="text-[14px] font-normal text-[#03A685]">FREE</p>
                </div>
                <p class="text-[12px] text-[#686B79] mb-[30px]">Free shipping for you</p>

                <div class="flex justify-between font-bold text-[15px] text-[#3E4152] mb-[12px]">
                    <h1>Total Amount</h1>
                    <h1>₹<%= totalAmount %></h1>
                </div>
                <button class="w-full text-[14px] font-bold bg-[#ff3f63] px-[16px] py-[10px] text-white rounded-[2px]">PLACE ORDER</button>
            </div>
        </div>
        
    </div>
    </div>
</body>
</html>